<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/favicon.ico">

    <title>Secure Routing -- Protect Your Infrastructure</title>

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/ears.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">

    <script src="/js/timeline/timeline_ajax/simile-ajax-api.js?bundle=true" type="text/javascript"></script>
    <script src="/js/timeline/timeline_js/timeline-api.js?bundle=true" type="text/javascript"></script>
  </head>

  <body>

    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script>
     $(document).ready(function () {
       $('.dropdown-toggle').dropdown();
     });
    </script>


    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
	<div class="navbar-header">
	  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
	  </button>
	  <a class="navbar-brand" href="/">Secure Routing</a>
	</div>

	<div class="collapse navbar-collapse" id="navbar-collapse">
	  <ul class="nav navbar-nav earsnav">
	    <!-- LEARN -->
	    <li class="dropdown">
	      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Learn <span class="caret"></span>
	      </a>

	      <ul class="dropdown-menu">
		<li><a href="/sbs-guide">Step-by-Step Guide</a></li>
		<li><a href="https://www.youtube.com/channel/UCVOrJW51e8uu6aO_qnkk6qA">Youtube Channel</a></li>
		<li><a href="/specifications">Specifications</a></li>
		<li><a href="https://datatracker.ietf.org/wg/sidr/">Join The SIDR Working Group</a></li>
<li class="rightnav">Study the <a href="/tutorial/">RPKI simulator</a></li>
	      </ul>
	    </li>

	    <!-- TRY -->
	    <li class="dropdown">
	      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Try <span class="caret"></span>
	      </a>

	      <ul class="dropdown-menu">
		<li><a href="/workshop">The Demonstration Workshop</a></li>
	      </ul>
	    </li>

	    <!-- DEPLOY -->
	    <li class="dropdown">
	      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Deploy <span class="caret"></span>
	      </a>

	      <!-- TRY MENU -->
	      <ul class="dropdown-menu">
		  <li><a href="/bird">Install BIRD</a></li>
		  <li><a href="http://www-x.antd.nist.gov/bgpsrx/">Install Quagga</a></li>
		  <li><a href="https://github.com/dragonresearch/rpki.net">Install RPKI.NET</a></li>
		  <li><a href="https://github.com/bgpsecurity/rpstir">Install RPSTIR</a></li>
	      </ul>
	    </li>

	    <!-- INCIDENTS BUTTON -->
	    <li class="dropdown">
	      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Routing Incidents<span class="caret"></span>
	      </a>

	      <!-- INCIDENTS MENU -->
	      <ul class="dropdown-menu">
		<li><a href="/incident">Database</a></li>

	      </ul>
	    </li>
	  </ul>
	</div>
      </div>
    </nav>

    <div class="container ears-top">
      <div class="row">
	
	<div class="col-md-12" role="main">
	

	  <div class="page-header">
  <h1>
    RPKI Workshop Demonstration #2<br>
    Installation and Setup
  </h1>
</div>

<div class="container">
<p>

The <a href="https://www.youtube.com/watch?v=zkYmciQarc8"> RPKI Workshop
Demonstration #2: Installation and Setup</a> video leads the viewer through
the process of installing the RPKI workshop on a virtual machine.
The charts on this page are intended to be used with this video.
</p>

<p>

<h2>Notes:</h2>
<ol>

<li>
It is assumed the user will be running these commands on a Linux system
running the QEMU-KVM virtual machine manager.
</li>

<li>
Most user names are specific to that VM and won't be used in a production
environment.  Similarly, the IP addresses are what is used during this
configuration.  Your addresses may vary.
</li>


<li>
The tasks are broken down into a number of sub-tasks.  Each sub-task is then
divided into a number of steps.  The GUI actions for each step are provided
with a "Time Mark" to show where in the video each step takes place.
</li>


<li>
The Time Marks are approximate.  Most will be a couple seconds prior to the
actual action taken in each step.  This will hopefully provide a little
context for the step prior to it actually being performed.
</li>


<li>
The commands are all run in a web browser that is connected to the RPKI.NET
administrative GUI.
</li>

<li>
The <b>sudo</b> command is used in several places to execute commands as root.
Depending upon certain issues (e.g., your system configuration, timing), you
may or may not have to enter your password to use use <b>sudo</b>.  The times
a password is required in the video are noted here, but those times may not
correspond to your own use.
</li>

</ol>

<br><br>

<table class="table actions" border=1 align=center>

<tr>
  <th>Task</th>
  <th>Sub-Task</th>
  <th>Time Mark</th>
  <th>Page in GUI</th>
  <th>Thing to Click</th>
  <th>Text to Enter</th>
</tr>

<tr>
  <td class="task" rowspan="13"><br>Initialize VM for RPKI Workshop</td>
  <td class="subtask">Start QEMU/KVM virtual manager</td>
  <td class="timer">0:30</td>
  <td class="guipage">host terminal window&nbsp;1</td>
  <td class="widgetin"></td>
  <td class="kbdin">sudo virt-manager<br>(and enter your password)</td>
</tr>

<tr>
  <td class="subtask">Create a new VM</td>
  <td class="timer">0:52</td>
  <td class="guipage">VMM window</td>
  <td class="widgetin">"New" button</td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask">Choose how to install O/S</td>
  <td class="timer">0:56</td>
  <td class="guipage" rowspan="2">New VM window (step 1 of 4)</td>
  <td class="widgetin">select "Import existing disk image"</td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask"></td>
  <td class="timer">1:04</td>
  <td class="widgetin">"Forward" button</td>
  <td class="kbdin"></td>
</tr>

<tr>
<td class="subtask">Select storage file<br>(User must select the image file
  from their machine.)</td>
<td class="timer">1:04</td>
<td class="guipage" rowspan="6">New VM window (step 2 of 4)</td>
<td class="widgetin">"Browse" button</td>
<td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask" rowspan="2">Choose O/S type</td>
  <td class="timer">1:45</td>
  <td class="widgetin">"OS type" drop-down</td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="timer">1:46</td>
  <td class="widgetin">select "Linux"</td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask" rowspan="2">Choose version</td>
  <td class="timer">1:47</td>
  <td class="widgetin">"Version" drop-down</td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="timer">1:50</td>
  <td class="widgetin">select "Ubuntu Trusty Tahir LTS"</td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask"></td>
  <td class="timer">1:54</td>
  <td class="widgetin">"Forward" button</td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask">Leave RAM and CPU settings as is</td>
  <td class="timer">1:57</td>
  <td class="guipage">New VM window (step 3 of 4)</td>
  <td class="widgetin">"Forward" button</td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask">Set hostname</td>
  <td class="timer">2:04</td>
  <td class="guipage" rowspan="2">New VM window (step 4 of 4)</td>
  <td class="widgetin"></td>
  <td class="kbdin">rpki-workshop</td>
</tr>

<tr>
  <td class="subtask">Complete VM initialization</td>
  <td class="timer">2:10</td>
  <td class="widgetin">"Finish" button</td>
  <td class="kbdin"></td>
</tr>

<!------------------------------------------------------->

<tr>
  <td class="task" rowspan="10">Set Up Host and RPKI Workshop VM</td>
  <td class="subtask">Workshop VM boots</td>
  <td class="timer">2:12</td>
  <td class="guipage" rowspan="5">VM console window</td>
  <td class="widgetin"></td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask">Provide login data for RPKI workshop host</td>
  <td class="timer">2:20</td>
  <td class="widgetin"></td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask"-field>enter user</td>
  <td class="timer">2:22</td>
  <td class="widgetin"></td>
  <td class="kbdin">alice</td>
</tr>

<tr>
  <td class="subtask"-field>enter password</td>
  <td class="timer">2:25</td>
  <td class="widgetin"></td>
  <td class="kbdin">rpkiworkshop</td>
</tr>

<tr>
  <td class="subtask">Check VM's internet address</td>
  <td class="timer">2:35</td>
  <td class="widgetin"></td>
  <td class="kbdin">ifconfig | less</td>
</tr>

<tr>
  <td class="subtask">Save VM's internet address to the Host O/S</td>
  <td class="timer">2:55</td>
  <td class="guipage" rowspan="5">host terminal window&nbsp;1</td>
  <td class="widgetin"></td>
  <td class="kbdin">echo "192.168.122.102 trusty " | tee -a /etc/hosts</td>
</tr>

<tr>
  <td class="subtask">Login to workshop VM</td>
  <td class="timer">4:02</td>
  <td class="widgetin"></td>
  <td class="kbdin">ssh alice@trusty</td>
</tr>

<tr>
  <td class="subtask"-field>enter password</td>
  <td class="timer">4:10</td>
  <td class="widgetin"></td>
  <td class="kbdin">rpkiworkshop</td>
</tr>

<tr>
  <td class="subtask">Demonstration of alice's root authority</td>
  <td class="timer">4:52</td>
  <td class="widgetin"></td>
  <td class="kbdin">sudo echo hi</td>
</tr>

<tr>
  <td class="subtask">Update RPKI certificates</td>
  <td class="timer">5:04</td>
  <td class="widgetin"></td>
  <td class="kbdin">sudo rpkic update_bpki</td>
</tr>

<!------------------------------------------------------->

<tr>
  <td class="task" rowspan="9">Connect to a Quagga Router on the Workshop VM</td>
  <td class="subtask">Create another host terminal window</td>
  <td class="timer">&nbsp;</td>
  <td class="guipage" rowspan="9">host terminal window&nbsp;2</td>
  <td class="widgetin"></td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask">Login to a workshop Quagga router</td>
  <td class="timer">5:40</td>
  <td class="widgetin"></td>
  <td class="kbdin">ssh r3@trusty</td>
</tr>

<tr>
  <td class="subtask"-field>enter r3's login password</td>
  <td class="timer">5:53</td>
  <td class="widgetin"></td>
  <td class="kbdin">fnord</td>
</tr>

<tr>
  <td class="subtask">Enter Quagga password</td>
  <td class="timer">6:00</td>
  <td class="widgetin"></td>
  <td class="kbdin">fnord</td>
</tr>

<tr>
  <td class="subtask">Get basic Quagga help</td>
  <td class="timer">6:10</td>
  <td class="widgetin"></td>
  <td class="kbdin">?</td>
</tr>

<tr>
  <td class="subtask">Get help of "show" command</td>
  <td class="timer">6:13</td>
  <td class="widgetin"></td>
  <td class="kbdin">show ?</td>
</tr>

<tr>
  <td class="subtask">Get help of "show ip" command</td>
  <td class="timer">6:17</td>
  <td class="widgetin"></td>
  <td class="kbdin">show ip ?</td>
</tr>

<tr>
  <td class="subtask">Show list of existing prefixes</td>
  <td class="timer">6:24</td>
  <td class="widgetin"></td>
  <td class="kbdin">show ip bgp</td>
</tr>

<tr>
  <td class="subtask">Logout of Quagga router<br>(Automatic logout from time-out)</td>
  <td class="timer">&nbsp;</td>
  <td class="widgetin"></td>
  <td class="kbdin"></td>
</tr>

<!------------------------------------------------------->

<tr>
  <td class="task" rowspan="5">Login to RPKI.net GUI interface</td>
  <td class="subtask">Enter RPKI.net GUI URL</td>
  <td class="timer">6:34</td>
  <td class="guipage" rowspan="4">browser login</td>
  <td class="widgetin"></td>
  <td class="kbdin">https://trusty</td>
</tr>

<tr>
  <td class="subtask"-field>enter username</td>
  <td class="timer">6:53</td>
  <td class="widgetin"></td>
  <td class="kbdin">root</td>
</tr>

<tr>
  <td class="subtask"-field>enter password</td>
  <td class="timer">6:57</td>
  <td class="widgetin"></td>
  <td class="kbdin">rpkiworkshop</td>
</tr>

<tr>
  <td class="subtask">Complete the login procedure</td>
  <td class="timer">7:00</td>
  <td class="widgetin">"Login" button</td>
  <td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask"></td>
  <td class="timer">7:01</td>
  <td class="guipage">Handle List</td>
  <td class="widgetin"></td>
  <td class="kbdin"></td>
</tr>

<!------------------------------------------------------->

<tr>
  <td class="task" rowspan="4">Port Forwarding for Workshop Access</td>
<td class="subtask">Set up port forwarding to allow workshop use from other
  hosts</td>
<td class="timer">7:14</td>
<td class="guipage" rowspan="4">host terminal window&nbsp;2</td>
<td class="widgetin"></td>
<td class="kbdin"></td>
</tr>

<tr>
  <td class="subtask">Route SSH connections to port 9022 to the workshop VM's port 22</td>
  <td class="timer">7:30</td>
  <td class="widgetin"></td>
<td class="kbdin">sudo iptables -t net -I PREROUTING -i enp0s25 -p tcp --dport
9022 -j DNAT --to 192.168.122.102:22<br />
(Interface and IP address are specific to the host.  The user must determine
  the proper values for their system.)</td>
</tr>

<tr>
  <td class="subtask">Enter user password for sudo access.</td>
  <td class="timer">8:10</td>
  <td class="widgetin"></td>
  <td class="kbdin">(enter your password)</td>
</tr>

<tr>
  <td class="subtask">Route HTTP connections to port 9443 to the workshop VM's port 443</td>
  <td class="timer">8:13</td>
  <td class="widgetin"></td>
<td class="kbdin">sudo iptables -t net -I PREROUTING -i enp0s25 -p tcp --dport
9443 -j DNAT --to 192.168.122.102:443<br />
(Interface and IP address are specific to the host.  The user must determine
  the proper values for their system.)</td>
</tr>

</table>
</div>

<!--------------------------------------------------------------------------->

<br><br>

<hr>

This document is prepared under Contract Number HSHQDC-14-C-B0035 for DHS
S&amp;T CSD
<p>
Copyright &copy; 2016, Parsons, Inc.<br>
All rights reserved.


	</div>

	
      </div>
    </div>
  </body>

  <script type="application/ld+json">
   {
     "@context": "http://schema.org",
     "@type": "Organization",
     "url": "https://securerouting.net",
     "logo": "https://securerouting.net/images/secure-routing-cloud.svg"
   }
  </script>
  <script type="application/ld+json">
   {
     "@context": "http://schema.org",
     "@type": "Organization",
     "url": "https://securerouting.net",
     "name": "Secure Routing",
     "sameAs" : [
       "https://www.youtube.com/channel/UCVOrJW51e8uu6aO_qnkk6qA"
     ],
   }
  </script>
</html>

